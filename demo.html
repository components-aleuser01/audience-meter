<html>
<body>
Connected users to {namespace}: <span id="total">-</span>
<script src="http://cdn.sockjs.org/sockjs-0.1.min.js"></script>
<script>
function connect(namespace)
{
    var sock = new SockJS('http://{hostname}/' + namespace);
    sock.onmessage = function(e)
    {
        document.getElementById("total").innerHTML = JSON.parse(e.data).total;
    };
    sock.onclose = function(e)
    {
        if (!e.wasClean)
        {
            setTimeout(function() {connect(namespace)}, 2000);
        }
    }
}
connect("{namespace}");
</script>
<pre>
&lt;script src="http://cdn.sockjs.org/sockjs-0.1.min.js">&lt;/script>
&lt;script>
function connect(namespace)
{
    var sock = new SockJS('http://{hostname}/' + namespace);
    sock.onmessage = function(e)
    {
        document.getElementById("total").innerHTML = JSON.parse(e.data).total;
    };
    sock.onclose = function(e)
    {
        if (!e.wasClean)
        {
            setTimeout(function() {connect(namespace)}, 2000);
        }
    }
}
connect("{namespace}");
&lt;/script>
</pre>
</body>
</html>